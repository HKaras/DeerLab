

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Release Notes &mdash; DeerLab</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_util.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_main.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-rendered-html.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Funding" href="funding.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                v0.14.0-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginners_guide.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainty.html">Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="modelsref.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
</ul>
<p class="caption"><span class="caption-text">Others</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="funding.html">Funding</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DeerLab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-notes">
<span id="changelog"></span><h1>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="release-v0-13-1-may-2021">
<h2>Release v0.13.1 - May 2021<a class="headerlink" href="#release-v0-13-1-may-2021" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overall-changes">
<h3>Overall changes<a class="headerlink" href="#overall-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed the behaviour of global weights throughout DeerLab fit functions. The keyword argument <code class="docutils literal notranslate"><span class="pre">weights</span></code> was not having any or the expected effect in the results in some fit functions. Also fixes the behaviour of built-in plots for global fits (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/168">#168</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/171">#171</a>).</li>
<li>Optimize default weights in global fitting according to the datasets noise levels (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/169">#169</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/174">#174</a>).</li>
<li>Fixed a bug in <code class="docutils literal notranslate"><span class="pre">snlls</span></code> that was causing the confidence intervals in <code class="docutils literal notranslate"><span class="pre">snlls</span></code>, <code class="docutils literal notranslate"><span class="pre">fitmodel</span></code> and <code class="docutils literal notranslate"><span class="pre">fitmultimodel</span></code> to vanish for large signal scales (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/165">#165</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/166">#166</a>).</li>
</ul>
</div>
<div class="section" id="specific-changes">
<h3>Specific changes<a class="headerlink" href="#specific-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">deerload</span></code>: Corrected a bug that happened in certain BES3T Bruker spectrometer files, when there are entries under the <code class="docutils literal notranslate"><span class="pre">MANIPULATION</span> <span class="pre">HISTORY</span> <span class="pre">LAYER</span></code> section at the end of the descriptor file. Also fixed the reading of <code class="docutils literal notranslate"><span class="pre">.XGF</span></code> partner files (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/164">#164</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">snlls</span></code>: The keyword argument <code class="docutils literal notranslate"><span class="pre">extrapenalty</span></code> now requires a function that takes both non-linear and linear parameters. Corrected the name of the keyword in the documentation (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/175">#175</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">fitparamodel</span></code>: Fixed the scaling of the output <code class="docutils literal notranslate"><span class="pre">FitResult.model</span></code> and <code class="docutils literal notranslate"><span class="pre">FitResult.modelUncert</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/173">#173</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">ex_pseudotitration_parameter_free</span></code>: Removed <code class="docutils literal notranslate"><span class="pre">Ctot</span></code> from second order term in the <code class="docutils literal notranslate"><span class="pre">chemicalequalibrium</span></code> polynomial (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/163">#163</a>).</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-13-0-april-2021">
<h2>Release v0.13.0 - April 2021<a class="headerlink" href="#release-v0-13-0-april-2021" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>DeerLab is now distributed via the Anaconda repository and can be installed with the <code class="docutils literal notranslate"><span class="pre">conda</span></code> package manager (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/12">#12</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/157">#157</a>). The installation instructions have been expanded to describe the Anaconda installation (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/155">#155</a>).</li>
<li>DeerLab now supports Python 3.9.</li>
<li>The function <code class="docutils literal notranslate"><span class="pre">fitsignal</span></code> has been re-named to <code class="docutils literal notranslate"><span class="pre">fitmodel</span></code> for correctness and consistency with other functions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/102">#102</a>).</li>
<li>Added new experiment models for RIDME on systems with one to seven harmonic pathways (S=1/2 to S=7/2) to include all higher harmonics (overtones) (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/79">#79</a>).</li>
<li>Bootstrapping is now embedded into <code class="docutils literal notranslate"><span class="pre">fitmodel</span></code> to automatically bootstrap all output quantities without the need to write additional script lines (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/55">#55</a>). In <code class="docutils literal notranslate"><span class="pre">fitmodel</span></code> a new option <code class="docutils literal notranslate"><span class="pre">uq</span></code> allows to switch between covariance or bootstrapping uncertainty quantification (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/88">#88</a>).</li>
<li>The function <code class="docutils literal notranslate"><span class="pre">fitmodel</span></code> now returns <code class="docutils literal notranslate"><span class="pre">Vmod</span></code> and <code class="docutils literal notranslate"><span class="pre">Vunmod</span></code>, the modulated and unmodulated contributionsto the fitted dipolar signal, respectively, along their uncertainties as additional outputs (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/78">#78</a>).</li>
<li>Implemented several initialization strategies in <code class="docutils literal notranslate"><span class="pre">fitmultimodel</span></code> for multi-model components (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/67">#67</a>). Three different new strategies <code class="docutils literal notranslate"><span class="pre">'spread'</span></code>, <code class="docutils literal notranslate"><span class="pre">'split'</span></code> and <code class="docutils literal notranslate"><span class="pre">'merge'</span></code> will initialize the parameter values of the N-component fit based on the results of the N-1/N+1 component fit to improve quality of results and speed.</li>
<li>Added contribution guidelines to the documentation and automated list of DeerLab contributors.</li>
<li>The function <code class="docutils literal notranslate"><span class="pre">snlls</span></code> now accepts additional custom penalties to include in the optimization (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/76">#76</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/112">#108</a>).</li>
<li>All fit functions now return the fit of the data along its uncertainty automatically as part of the <code class="docutils literal notranslate"><span class="pre">FitResult</span></code> object (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/130">#130</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/134">#134</a>).</li>
<li>Implemented a new method <code class="docutils literal notranslate"><span class="pre">UQResult.join()</span></code> to merge multiple uncertainty quantification objects (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/154">#154</a>). This permits error propagation from multiple uncertainty sources to a common function.</li>
</ul>
</div>
<div class="section" id="id25">
<h3>Overall changes<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The performance of all fit functions has been considerably accelerated by removing call overheads in built-in DeerLab models (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/100">#100</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/101">#101</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/143">#143</a>).</li>
<li>Improved robustness of the installation from PyPI (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/65">#65</a>):<ul>
<li>The installer no longer assumes the alias <code class="docutils literal notranslate"><span class="pre">pip</span></code> to be setup on the system.</li>
<li>The installation will now handle cases when system-wide privileges are not available (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/52">#52</a>).</li>
<li>Improved robustness of the installation in Windows systems to avoid missing DLL errors (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/64">#64</a>).</li>
<li>The installer will now get the latest Numpy/Scipy releases in Windows systems available at the <a class="reference external" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">Gohlke repository</a>.</li>
</ul>
</li>
<li>Adapted piece of code leading to a <code class="docutils literal notranslate"><span class="pre">VisibleDeprecationWarning</span></code> visible during execution of certain DeerLab functions.</li>
<li>Improved interface of built-in plots in <code class="docutils literal notranslate"><span class="pre">FitResult.plot()</span></code>. The method now returns a Matplotlib figure object (<code class="docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code>) instead of an axes object (<code class="docutils literal notranslate"><span class="pre">matplotlib.axes._subplots.AxesSubplot</span></code>) which can be modified more freely to adjust graphical elements (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/85">#85</a>). The method now takes an optional keyword <code class="docutils literal notranslate"><span class="pre">FitResult.plot(show=True\False)</span></code> to enable/disable rendering of the graphics upon calling the method (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/87">#87</a>).</li>
<li>The fit objective values returned in <code class="docutils literal notranslate"><span class="pre">FitResult.cost</span></code> are now correct (previous versions had an erroneous 1/2 factor) (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/80">#80</a>). The value is now returned as a scalar value instead of a single-element list (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/81">#81</a>).</li>
<li>Removed the re-normalization conventions <code class="docutils literal notranslate"><span class="pre">K(t=0,r)=1</span></code> and <code class="docutils literal notranslate"><span class="pre">B(t=0)=1</span></code> and associated options <code class="docutils literal notranslate"><span class="pre">renormalize</span></code> and <code class="docutils literal notranslate"><span class="pre">renormpaths</span></code> in the <code class="docutils literal notranslate"><span class="pre">dipolarkernel</span></code> and <code class="docutils literal notranslate"><span class="pre">dipolarbackground</span></code> functions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/99">#99</a>) to avoid identifiability issues between dipolar pathway amplitudes and signal scales during fitting (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/76">#76</a>).</li>
<li>The fit convergence criteria <code class="docutils literal notranslate"><span class="pre">tol</span></code> (objective function tolerance) and <code class="docutils literal notranslate"><span class="pre">maxiter</span></code> (iteration limit) are now exposed as keyword argument in all fit functions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/111">#111</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/112">#112</a>).</li>
<li>Multiple improvements and corrections to the documentation (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/95">#95</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/96">#96</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/104">#104</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/106">#106</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/107">#107</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/115">#115</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/122">#122</a>)</li>
<li>Corrections in the metadata of multiple <code class="docutils literal notranslate"><span class="pre">dd_models</span></code>. The key <code class="docutils literal notranslate"><span class="pre">Parameters</span></code> of some models contained the wrong names.</li>
<li>The metadata of the built-in models is now accessible and manipulable via function attributes (e.g. <code class="docutils literal notranslate"><span class="pre">dd_gauss.parameters</span></code>) rather than trought a returned dictionary (e.g. <code class="docutils literal notranslate"><span class="pre">dd_gauss()['Parameters']</span></code>) (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/143">#143</a>).</li>
<li>The keyword argument to request uncertainty quantification has been unified across all fitting functions. It is now <code class="docutils literal notranslate"><span class="pre">uq</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/120">#120</a>).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">UncertQuant</span></code> class has been renamed into <code class="docutils literal notranslate"><span class="pre">UQResult</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/123">#123</a>).</li>
<li>Uncertainty quantification is now tested numerically against an external package (<code class="docutils literal notranslate"><span class="pre">lmfit</span></code>) to ensue quality and accuracy (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/121">#121</a>).</li>
<li>Expanded the collection of examples in the documentation, and improved existing ones (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/144">#144</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/148">#148</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/153">#153</a>).</li>
</ul>
</div>
<div class="section" id="id54">
<h3>Specific changes<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">deerload</span></code>:<ul>
<li>Fixed behaviour of the function when loading certain 2D-datasets in the BES3T format (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/82">#82</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/83">#83</a>).</li>
<li>In 2D-datasets, the abscissas are now returned as a list of abscissas instead of a single 2D-matrix (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/83">#83</a>)).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitmodel</span></code>:<ul>
<li>Corrected the scaling behaviour of all outputs related to components of the dipolar signal to match the scaling of the original experimental data (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/78">#78</a>).</li>
<li>The built-in plot method <code class="docutils literal notranslate"><span class="pre">FitResult.plot()</span></code> now plots the unmodulated component fit as well with its uncertainty (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/78">#78</a>).</li>
<li>When plotting bootstrapped results with <code class="docutils literal notranslate"><span class="pre">FitResult.plot()</span></code>, the fit is substituted with the median of the bootstrapped distribution (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/148">#148</a>).</li>
<li>Extended information included in the verbose summary (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/78">#78</a>).</li>
<li>Simplified the interface for defining initial values and boundaries of parameters in <code class="docutils literal notranslate"><span class="pre">fitsignal</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/71">#71</a>). Now instead of defining, e.g., <code class="docutils literal notranslate"><span class="pre">fitsignal(...,</span> <span class="pre">lb</span> <span class="pre">=</span> <span class="pre">[[],[50],[0.2,</span> <span class="pre">0.5]])</span></code> one can define the individual vales/boundaries <code class="docutils literal notranslate"><span class="pre">fitsignal(...,</span> <span class="pre">bg_lb</span> <span class="pre">=</span> <span class="pre">50,</span> <span class="pre">ex_lb</span> <span class="pre">=</span> <span class="pre">[0.2,0.5])</span></code> by using the new keywords.</li>
<li>Removed the keyword argument <code class="docutils literal notranslate"><span class="pre">uqanalysis=True/False</span></code>. The uncertainty quantification can now be disabled via the new keyword <code class="docutils literal notranslate"><span class="pre">uq=None</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/98">#98</a>).</li>
<li>Corrected the behaviour of built-in start values when manually specifying boundaries (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/73">#73</a>). If the built-in start values are outside of the user-specified boundaries the program will now automatically set the start values in the middle of the boundaries to avoid errors (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/72">#72</a>).</li>
<li>Implemented the constraint <code class="docutils literal notranslate"><span class="pre">Lam0+sum(lam)&lt;=1</span></code> to ensure the structural-identifiability of <code class="docutils literal notranslate"><span class="pre">Lam0</span></code> and <code class="docutils literal notranslate"><span class="pre">V0</span></code> during SNLLS optimization of experiment models with more than one modulated dipolar pathway (i.e. does not affect <code class="docutils literal notranslate"><span class="pre">ex_4pdeer</span></code>) (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/76">#76</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/108">#108</a>).</li>
<li>The function now accepts any sequence input (lists, arrays, tuples, etc.) instead of just lists (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/152">#152</a>).</li>
<li>Removed the optional keyword argument <code class="docutils literal notranslate"><span class="pre">regtype</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/137">#137</a>).</li>
<li>Fixed a bug in the scaling of the distance distribution uncertainty quantification (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/148">#148</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitregmodel</span></code>:<ul>
<li>Corrected the behaviour of the uncertainty quantification when disabling the non-negativity constraint (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/121">#121</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitparamodel</span></code>:<ul>
<li>Made <code class="docutils literal notranslate"><span class="pre">par0</span></code> a positional argument instead of an optional keyword (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/70">#70</a>). to avoid errors when not defined (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/69">#69</a>).</li>
<li>Keyword argument <code class="docutils literal notranslate"><span class="pre">rescale</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">fitscale</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/128">#128</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/129">#129</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">snlls</span></code>:<ul>
<li>Corrected bug that was leading to the smoothness penalty being accounted for twice in the least-squares residual during optimization (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/103">#103</a>).</li>
<li>Now returns the uncertainty quantification of linear and nonlinear parts as separate objects <code class="docutils literal notranslate"><span class="pre">nonlinUncert</span></code> and <code class="docutils literal notranslate"><span class="pre">linUncert</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/108">#108</a>).</li>
<li>Improved the covariance-based uncertainty analysis by including correlations between linear and non-linear parameters (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/108">#108</a>).</li>
<li>Improved the behavior of signal scale determination (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/108">#108</a>).</li>
<li>Enabled prescaling of the data to avoid scaling issues during uncertainty quantification (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issue/132">#132</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/133">#133</a>).</li>
<li>Corrected the behaviour of the uncertainty quantification when disabling the regularization penalty (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/121">#121</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">diststats</span></code>:<ul>
<li>Now compatible with non-uniformly defined distance distributions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/92">#92</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/94">#94</a>).</li>
<li>Added internal validation step to avoid non-sensical results when confounding the syntax (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/91">#91</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">dipolarkernel</span></code>:<ul>
<li>Now allows defining pathways without unmodulated components.</li>
<li>All optional keyword arguments can only be passed as named and not positional arguments (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/138">#138</a>).</li>
<li>The keyword <code class="docutils literal notranslate"><span class="pre">pathways</span></code> now only takes lists of pathways and not modulation depth parameters. A new separate keyword <code class="docutils literal notranslate"><span class="pre">mod</span></code> takes the modulation depth parameter for the simplified 4-pulse DEER kernel (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/118">#118</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/138">#138</a>).</li>
<li>Renmaed the background argument keyword <code class="docutils literal notranslate"><span class="pre">B</span></code> into <code class="docutils literal notranslate"><span class="pre">bg</span></code> (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/138">#138</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">regparamrange</span></code>:<ul>
<li>Implemented new CSD algorithm to avoid LAPACK library crashes encountered when using multiple DeerLab functions calling <code class="docutils literal notranslate"><span class="pre">regparamrange</span></code> internally (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/68">#68</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">correctphase</span></code>:<ul>
<li>Implement new keyword <code class="docutils literal notranslate"><span class="pre">phase</span></code> to select the criterion for optimizing the phase for correction (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/114">#114</a>, <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull0/131">#131</a>).</li>
<li>Deprecated imaginary offset fitting (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull0/131">#131</a>).</li>
<li>Deprecated manual phase correction. Manual correction can be done by the user and is now described in the beginner’s guide (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull0/131">#131</a>).</li>
</ul>
</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-12-2-october-2020">
<h2>Release v0.12.2 - October 2020<a class="headerlink" href="#release-v0-12-2-october-2020" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hotfix">
<h3>Hotfix<a class="headerlink" href="#hotfix" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">regparamrange</span></code>: The exception handling introduced in the previous release was still too specific. The function kept crashing due to SVD non-convergence errors during the GSVD. This has been fixed and the error will not lead to a crash. (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/42">#42</a>).</li>
</ul>
</div>
<div class="section" id="id96">
<h3>Overall changes<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fit functions using the <code class="docutils literal notranslate"><span class="pre">multistart</span></code> option are now fully deterministic. The functions was using now a random generator to define the different start points, this is now deterministic.</li>
<li>Documentation UI has been re-designed for a more confortable reading. Minor errors and outdated information have been corrected throughout. Expanded reference documentation of several functions for better understanding.</li>
</ul>
</div>
<div class="section" id="id97">
<h3>Specific changes<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">dd_skewgauss</span></code>: corrected an error in the implementation that was leading to wrong distributions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/61">#61</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">dd_models</span></code>, <code class="docutils literal notranslate"><span class="pre">ex_models</span></code>: Adapted numerical boundaries and start values of some built-in models to reflect better the physical reality. Afected models: <code class="docutils literal notranslate"><span class="pre">dd_skewgauss</span></code>, <code class="docutils literal notranslate"><span class="pre">dd_triangle</span></code>, <code class="docutils literal notranslate"><span class="pre">dd_gengauss</span></code>, <code class="docutils literal notranslate"><span class="pre">ex_5pdeer</span></code>, <code class="docutils literal notranslate"><span class="pre">ex_ovl4pdeer</span></code>.</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-12-1-october-2020">
<h2>Release v0.12.1 - October 2020<a class="headerlink" href="#release-v0-12-1-october-2020" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id99">
<h3>Overall changes<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The calculation of the Jacobian for covariance-based uncertainty analysis has been simplified providing a significant boost in performance for all fit functions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/55">#55</a>).</li>
<li>The Jacobian computation is more robust, now taking into consideration parameter boundaries (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/58">#58</a>). This solves errors such as the ones reported in <a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/50">#50</a>.</li>
<li>Broken examples in the documentation have been corrected (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/57">#57</a>).</li>
<li>When requesting attributes or method of a UncertQuant object under disabled uncertainty analysis (<code class="docutils literal notranslate"><span class="pre">uqanalysis=False</span></code>) now it will prompt an explanatory error instead of just crashing (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/56">#56</a>).</li>
</ul>
</div>
<div class="section" id="id105">
<h3>Specific changes<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">fitsignal</span></code>: corected the behaviour of the scaling output (<code class="docutils literal notranslate"><span class="pre">fit.scale</span></code>). Now all fitted dipolar signals (<code class="docutils literal notranslate"><span class="pre">fit.V</span></code>) have the same scaling as the input signal (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/53">#53</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">regparamrange</span></code>: relaxed the exception handling to catch errors occuring under certain conditions. The function seems to crash due to LAPACK or SVD non-convergence errors during the GSVD, now these are catched and the alpha-range is estimated using simple SVD as an approximation. This function might be deprecated in a future release (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/issues/42">#42</a>).</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-12-0-october-2020">
<h2>Release v0.12.0 - October 2020<a class="headerlink" href="#release-v0-12-0-october-2020" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id108">
<h3>Overall changes<a class="headerlink" href="#id108" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The regularization operator matrices <code class="docutils literal notranslate"><span class="pre">regoperator</span></code> now include the edges of the distribution (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/38">#38</a>). Now the smoothness penalty is imposed on the distribution edges avoiding the accumulation of distribution mass at the edges of <code class="docutils literal notranslate"><span class="pre">r</span></code>.</li>
<li>The interface for defining dipolar pathways has been simplified (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/41">#41</a>). For example, a signal with two dipolar pathways had to be defined as <code class="docutils literal notranslate"><span class="pre">pathways</span> <span class="pre">=</span> <span class="pre">[[Lam0,np.nan],</span> <span class="pre">[lam1,T0]]</span></code>. Now the unmodulated pathway must be defined by its amplitude and does not accept the use of <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">pathways</span> <span class="pre">=</span> <span class="pre">[Lam0,</span> <span class="pre">[lam1,T0]]</span></code>.</li>
<li>The project version control has been switched from the Git-flow to the GitHub-flow design. The default branch has been switched from <code class="docutils literal notranslate"><span class="pre">master</span></code> to <code class="docutils literal notranslate"><span class="pre">main</span></code>, which is now always production-ready. All new contributions are merged into <code class="docutils literal notranslate"><span class="pre">main</span></code> exclusively by pull requests.</li>
<li>The dependency on the <code class="docutils literal notranslate"><span class="pre">lambda</span></code> parameter has been removed from all phenomenological background models, and kept only for physical models (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/43">#43</a>). Their interface with <code class="docutils literal notranslate"><span class="pre">dipolarbackground</span></code> and <code class="docutils literal notranslate"><span class="pre">dipolarkernel</span></code> have been updated accordingly.</li>
</ul>
</div>
<div class="section" id="id112">
<h3>New features:<a class="headerlink" href="#id112" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">diststats</span></code>: New function to calculate different statistical quantities of the distance distribution and their corresponding uncertainties (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/37">#37</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">bootan</span></code>: Introduced the option <code class="docutils literal notranslate"><span class="pre">cores</span></code> to parallelize the bootstrapping using multiple CPUs (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/35">#35</a>).</li>
</ul>
</div>
<div class="section" id="id115">
<h3>Specific changes<a class="headerlink" href="#id115" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">bg_homfractal</span></code>:<ul>
<li>Corrected behavior of the model. For <code class="docutils literal notranslate"><span class="pre">d=3</span></code> the model returned wrong values, and for <code class="docutils literal notranslate"><span class="pre">d~=3</span></code> the model resulted in an error.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">UncertQuant</span></code>:<ul>
<li>Fixed bug when propagating uncertainty to scalar functions.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">deerload</span></code>:<ul>
<li>Fixed UTF-8 error when loading certain spectrometer files in MacOS (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/30">#30</a>)</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitsignal</span></code>:<ul>
<li>The fitted scale of the signal is now properly calculated when fitting fully parametric signals.</li>
<li>Fixed error occuring when fitting a dipolar evolution function with a non-parametric distribution.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">selregparam</span></code>:<ul>
<li>Fixed bug occuring when requesting the <code class="docutils literal notranslate"><span class="pre">lc</span></code> or <code class="docutils literal notranslate"><span class="pre">lr</span></code> selection methods.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">regparamange</span></code>:<ul>
<li>An error occuring at the BLAS/LAPLACK error ocurring under certain conditions in MacOS and Ubuntu is now handled to avoid a crash.</li>
</ul>
</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-11-0-september-2020">
<h2>Release v0.11.0 - September 2020<a class="headerlink" href="#release-v0-11-0-september-2020" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id117">
<h3>Overall changes<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>All Gauss models (<code class="docutils literal notranslate"><span class="pre">dd_gauss</span></code>,etc.) now use the standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code> instead of the FWHM as the width parameter for consistency with other method such as Rice distributions (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/19">#19</a>).</li>
<li>All hard-wired random seeds have been removed.</li>
<li>A new method <code class="docutils literal notranslate"><span class="pre">plot()</span></code> has been added to the <code class="docutils literal notranslate"><span class="pre">FitResult</span></code> class returned by all fit functions. This will create a basic plot of the fit results (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/7">#7</a>).</li>
</ul>
</div>
<div class="section" id="id120">
<h3>Specific changes<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">snlls</span></code>:<ul>
<li>Renamed option <code class="docutils literal notranslate"><span class="pre">penalty</span></code> as <code class="docutils literal notranslate"><span class="pre">reg</span></code> and improved its interface (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/13">#13</a>).</li>
<li>The regularization parameter of the optimal solution is returned now (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/20">#20</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">whitegaussnoise</span></code>: Added a <code class="docutils literal notranslate"><span class="pre">seed</span></code> option to select static noise realizations.</li>
<li><code class="docutils literal notranslate"><span class="pre">correctzerotime</span></code>:<ul>
<li>Fixed bug when zero-time is at start/end of array (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/24">#24</a>).</li>
<li>Function no longer rescales the experimental data passed on to the function.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitsignal</span></code>:<ul>
<li>The regularization parameter of the optimal solution is returned now (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/20">#20</a>).</li>
<li>Bug fixed when fitting dipolar evolution functions (no background and no experiment models) with a parametric distance distribution.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitmultimodel</span></code>: Start points are now spread over constrained parameter space grid instead of being randomble initiated (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/22">#22</a>).</li>
<li><code class="docutils literal notranslate"><span class="pre">deerload</span></code>:<ul>
<li>Now returns the time axis in microseconds instead of nanoseconds (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/21">#21</a>).</li>
<li>The bug appearing when loading certain BES3T files has been fixed (<a class="reference external" href="https://github.com/JeschkeLab/DeerLab/pull/14">#14</a>).</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">fitregmodel</span></code>: Now returns the fitted dipolar signal in the <code class="docutils literal notranslate"><span class="pre">FitResult</span></code> output</li>
<li><code class="docutils literal notranslate"><span class="pre">correctscale</span></code>: The parameter fit ranges have been adjusted.</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="release-v0-10-0-august-2020">
<h2>Release v0.10.0 - August 2020<a class="headerlink" href="#release-v0-10-0-august-2020" title="Permalink to this headline">¶</a></h2>
<p>As of this version, DeerLab is based on Python in contrast to older versions based on MATLAB found <a class="reference external" href="https://github.com/JeschkeLab/DeerLab-Matlab">here</a>.</p>
<div class="section" id="deprecated-functions">
<h3>Deprecated functions<a class="headerlink" href="#deprecated-functions" title="Permalink to this headline">¶</a></h3>
<p>The following functions have been deprecated due to limited usability or due to functionality overlap with other DeerLab functions: <code class="docutils literal notranslate"><span class="pre">aptkernel</span></code>, <code class="docutils literal notranslate"><span class="pre">backgroundstart</span></code>, <code class="docutils literal notranslate"><span class="pre">fitbackground</span></code>, <code class="docutils literal notranslate"><span class="pre">paramodel</span></code>, and <code class="docutils literal notranslate"><span class="pre">time2freq</span></code>.</p>
</div>
<div class="section" id="id128">
<h3>Overall changes<a class="headerlink" href="#id128" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>All fit functions now return a single <code class="docutils literal notranslate"><span class="pre">FitResult</span></code> output which will contain all results.</li>
<li>All functions are now compatible with non-uniformly increasing distance axes.</li>
<li>All fit functions are completely agnostic with respect of the abolute values of the signal amplitude. This is automatically fitted by all function and return as part of the results.</li>
<li>Uncertainty quantification for all fit functions is returned as a <code class="docutils literal notranslate"><span class="pre">UncertQuant</span></code> object from which confidence intervals, parameter distributions, etc. can be generated generalizing the uncertainty interface for all DeerLab. Uncertainty can now be propagated to arbitrary functions.</li>
</ul>
</div>
<div class="section" id="id129">
<h3>Specific changes<a class="headerlink" href="#id129" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">fitparamodel</span></code>: the functionality has been streamlined. Function now fits arbitrary parametric models using non-linear leas-squares without consideration of whether it is a time-domain or distance-domain model. The models no longer need to take two inputs (axis+parameters) and now only tk the parameters as input.</li>
<li><code class="docutils literal notranslate"><span class="pre">fitregmodel</span></code>: goodness-of-fit estimators are now computed using the proper estimation the degrees of freedom.</li>
<li><code class="docutils literal notranslate"><span class="pre">fitmultimodel</span></code>: added internal measures to avoid situations where one or several components are suppressed by fitting zero-amplitudes making the method more stable.</li>
<li><code class="docutils literal notranslate"><span class="pre">uqst</span></code>: the uncertainty distributions of the parameters are now returned as properly normalized probability density functions.</li>
<li><code class="docutils literal notranslate"><span class="pre">fftspec</span></code>: frequency axis construction has been corrected.</li>
<li><code class="docutils literal notranslate"><span class="pre">regoperator</span></code>: now calculates the numerically exact finite-difference matrix using Fornberg’s method.</li>
<li><code class="docutils literal notranslate"><span class="pre">correctphase</span></code>: now can handle 2D-datasets.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="funding.html" class="btn btn-neutral float-left" title="Funding" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Luis Fábregas Ibáñez, Stefan Stoll, and others.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>